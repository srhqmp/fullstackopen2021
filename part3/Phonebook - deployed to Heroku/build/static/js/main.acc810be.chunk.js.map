{"version":3,"sources":["components/Components.js","service/contact.js","App.js","index.js"],"names":["Filter","newSearch","handleSearch","value","onChange","PersonForm","newName","newNumber","handleNameInput","handleNumberInput","handleAddContact","type","onClick","Contact","person","handleDeleteContact","name","number","Notification","message","className","baseUrl","exportObject","getAll","axios","get","then","response","data","addContact","newContact","request","post","console","log","deleteContact","id","delete","updateContact","newData","put","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","contactService","contacts","event","target","preventDefault","some","setTimeout","differentNumber","window","confirm","find","added","map","catch","error","JSON","stringify","replace","addedContact","concat","filter","toLocaleLowerCase","includes","contactToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.acc810be.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newSearch, handleSearch }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={newSearch} onChange={handleSearch} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PersonForm = ({ newName, newNumber, handleNameInput,\r\n    handleNumberInput, handleAddContact }) => {\r\n    return (\r\n        <form>\r\n            <div>name: <input value={newName} onChange={handleNameInput} /></div>\r\n            <div>number: <input value={newNumber} onChange={handleNumberInput} /></div>\r\n            <div>\r\n                <button type=\"submit\" onClick={handleAddContact}>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Contact = ({ person, handleDeleteContact }) => {\r\n    return (\r\n        <div>{person.name} {person.number} <button onClick={handleDeleteContact}>delete</button></div>\r\n    )\r\n}\r\n\r\nconst Notification = ({ message, className }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={className}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Filter, PersonForm, Contact, Notification }","import axios from 'axios'\r\nconst baseUrl = 'api/phonebook'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addContact = (newContact) => {\r\n    const request = axios.post(baseUrl, newContact)\r\n    console.log(request)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    console.log(request)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updateContact = (id, newData) => {\r\n    console.log('update contact', newData)\r\n    const request = axios.put(`${baseUrl}/${id}`, newData)\r\n    return request.then(response => {\r\n        console.log(response)\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst exportObject = { getAll, addContact, deleteContact, updateContact }\r\n\r\nexport default exportObject","import React, { useState, useEffect } from 'react'\nimport { Filter, PersonForm, Contact, Notification } from './components/Components'\nimport contactService from './service/contact'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    contactService\n      .getAll()\n      .then(contacts => {\n        setPersons(contacts)\n      })\n  }, [])\n\n  const contactExists = (name, number) => persons.some(person => person.name === name && person.number === number)\n\n  const differentNumber = (name, number) => persons.some(person => person.name === name && person.number !== number)\n\n  const handleSearch = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleAddContact = (event) => {\n    event.preventDefault()\n    const newContact = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (!newName) {\n      setErrorMessage(\n        `Please add a name`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } else if (!newNumber) {\n      setErrorMessage(\n        `Please add a number`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } else if (contactExists(newName, newNumber)) {\n      setErrorMessage(\n        `${newName} is already added to phonebook`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } else if (differentNumber(newName, newNumber)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = persons.find(person => person.name === newName).id\n        contactService\n          .updateContact(id, newContact)\n          .then(added => {\n            setPersons(persons.map(person => person.id !== id ? person : added))\n            setSuccessMessage(`Updated number of ${newName}`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setErrorMessage(JSON.stringify(error.response.data.error).replace(/\"([^\"]+)\":/g, ''))\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n\n            console.log('error', error.response.data)\n          })\n      }\n    } else {\n      contactService\n        .addContact(newContact)\n        .then(addedContact => {\n          setSuccessMessage(`Added ${addedContact.name}`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n          setPersons(persons.concat(addedContact))\n          setNewName('')\n          setNewNumber('')\n        }).catch(error => {\n          setErrorMessage(JSON.stringify(error.response.data.error).replace(/\"/g, ''))\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n\n          console.log(error.response.data)\n        })\n    }\n  }\n\n  const handleDeleteContact = (id) => {\n    const contactToDelete = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${contactToDelete.name} ?`)) {\n      contactService.deleteContact(id)\n        .then(message => {\n          console.log('sarahhh')\n          setPersons(persons.filter(person => person.id !== id))\n          setSuccessMessage(`Deleted ${contactToDelete.name}`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n        .catch(message => {\n          console.log('errroooor')\n          setErrorMessage(`Information of ${contactToDelete.name} has already been removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} className={'error'} />\n      <Notification message={successMessage} className={'success'} />\n      <Filter value={newSearch} handleSearch={handleSearch} />\n      <h2>Add new</h2>\n      <PersonForm newName={newName} newNumber={newNumber} handleNameInput={handleNameInput}\n        handleNumberInput={handleNumberInput} handleAddContact={handleAddContact} />\n      <h2>Numbers</h2>\n      {persons.filter(person => {\n        return person.name.toLocaleLowerCase().includes(newSearch.toLocaleLowerCase())\n      }).map((person) => {\n        return (<Contact key={person.id} person={person} handleDeleteContact={() => handleDeleteContact(person.id)} />)\n      })\n      }\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}